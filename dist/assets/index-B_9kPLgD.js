const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/icons-B-ubV8dj.js","assets/vendor-BXk_ma1u.js"])))=>i.map(i=>d[i]);
import{r as e,a as t,R as n}from"./vendor-BXk_ma1u.js";import{LucideSun as r,LucideMoon as o,LucideMapPin as i,ExternalLink as a}from"./icons-B-ubV8dj.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var s={exports:{}},l={},c=e,d=Symbol.for("react.element"),u=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,f=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function h(e,t,n){var r,o={},i=null,a=null;for(r in void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(a=t.ref),t)m.call(t,r)&&!p.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:d,type:e,key:i,ref:a,props:o,_owner:f.current}}l.Fragment=u,l.jsx=h,l.jsxs=h,s.exports=l;var g=s.exports,y={},b=t;function w(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=w(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function k(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=w(e))&&(r&&(r+=" "),r+=t);return r}function v(e){try{const t=new URL(e);if(!["http:","https:","mailto:","tel:"].includes(t.protocol))return!1;return![/javascript:/i,/data:/i,/vbscript:/i,/file:/i,/ftp:/i].some(t=>t.test(e))}catch{return!1}}function x(e){if(!v(e))return!1;if(!e.startsWith("http://")&&!e.startsWith("https://"))return!1;return/\.(jpg|jpeg|png|gif|webp|svg)(\?.*)?$/i.test(e)}function j(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;").trim():""}function N(e){return{profile:{name:j(e.profile.name),bio:j(e.profile.bio),avatar:e.profile.avatar,location:e.profile.location?j(e.profile.location):void 0},links:e.links.map(e=>({...e,title:j(e.title),description:e.description?j(e.description):void 0})),socialMedia:e.socialMedia,theme:e.theme,layout:e.layout,seo:{title:j(e.seo.title),description:j(e.seo.description),keywords:j(e.seo.keywords),favicon:e.seo.favicon},analytics:e.analytics,advanced:e.advanced}}y.createRoot=b.createRoot,y.hydrateRoot=b.hydrateRoot;const A={profile:{name:"Your Name",bio:"Welcome to my links! Find all my important stuff here.",avatar:"https://via.placeholder.com/400x400/6366f1/ffffff?text=You",location:""},links:[{title:"My Website",url:"https://example.com",description:"Check out my main website",icon:"globe",enabled:!0,newTab:!0,featured:!1},{title:"Contact Me",url:"mailto:hello@example.com",description:"Get in touch via email",icon:"mail",enabled:!0,newTab:!1,featured:!0}],socialMedia:{twitter:"",instagram:"",github:"",linkedin:"",youtube:"",tiktok:"",discord:"",twitch:""},theme:{colorScheme:"auto",primaryColor:"#6366f1",backgroundStyle:"gradient",backgroundImage:"",fontFamily:"inter",buttonStyle:"rounded",buttonAnimation:"scale",showBorder:!0},layout:{maxWidth:"md",alignment:"center",spacing:"normal",showProfileFirst:!0,showSocialMedia:!0,socialMediaPosition:"bottom"},seo:{title:"My Links",description:"Find all my important links in one place",keywords:"links, profile, bio, social media",favicon:""},analytics:{googleAnalyticsId:"",facebookPixelId:"",trackClicks:!0,trackSocialClicks:!0},advanced:{enablePWA:!1,enableDarkMode:!0,enableAnimations:!0,preloadImages:!0}};async function I(){try{const e=await async function(){try{const e=await fetch("/src/config.json");if(!e.ok)throw new Error(`Failed to load config: ${e.status}`);return await e.json()}catch(e){return console.warn("Could not load user config, using defaults:",e),{}}}(),t=S(A,e),n=function(e){const t=[],n=[];var r,o;return e.profile.name&&0!==e.profile.name.length||t.push({field:"profile.name",message:"Name is required"}),e.profile.name&&e.profile.name.length>50&&t.push({field:"profile.name",message:"Name must be 50 characters or less"}),e.profile.bio&&e.profile.bio.length>160&&t.push({field:"profile.bio",message:"Bio must be 160 characters or less"}),e.profile.avatar&&!x(e.profile.avatar)&&t.push({field:"profile.avatar",message:"Invalid avatar URL format"}),e.profile.location&&e.profile.location.length>50&&t.push({field:"profile.location",message:"Location must be 50 characters or less"}),e.links.length>20&&t.push({field:"links",message:"Maximum 20 links allowed"}),e.links.forEach((e,n)=>{e.title&&0!==e.title.length||t.push({field:`links[${n}].title`,message:"Link title is required"}),e.title&&e.title.length>50&&t.push({field:`links[${n}].title`,message:"Link title must be 50 characters or less"}),e.url&&v(e.url)||t.push({field:`links[${n}].url`,message:"Invalid URL format"}),e.url&&e.url.length>2048&&t.push({field:`links[${n}].url`,message:"URL too long (max 2048 characters)"}),e.description&&e.description.length>100&&t.push({field:`links[${n}].description`,message:"Description must be 100 characters or less"})}),Object.entries(e.socialMedia).forEach(([e,n])=>{n&&!function(e,t){if(!t)return!0;const n={twitter:/^[A-Za-z0-9_]{1,15}$/,instagram:/^[A-Za-z0-9_.]{1,30}$/,github:/^[A-Za-z0-9-]{1,39}$/,linkedin:/^[A-Za-z0-9-]{3,100}$/,tiktok:/^[A-Za-z0-9_.]{1,24}$/,twitch:/^[A-Za-z0-9_]{4,25}$/}[e];return!n||n.test(t)}(e,n)&&t.push({field:`socialMedia.${e}`,message:`Invalid ${e} username format`})}),r=e.theme.primaryColor,/^#[0-9A-Fa-f]{6}$/.test(r)||t.push({field:"theme.primaryColor",message:"Invalid hex color format"}),e.theme.backgroundImage&&!x(e.theme.backgroundImage)&&t.push({field:"theme.backgroundImage",message:"Invalid background image URL"}),e.seo.title&&e.seo.title.length>60&&n.push({field:"seo.title",message:"Title longer than 60 characters may be truncated in search results"}),e.seo.description&&e.seo.description.length>160&&n.push({field:"seo.description",message:"Description longer than 160 characters may be truncated"}),e.seo.favicon&&!x(e.seo.favicon)&&t.push({field:"seo.favicon",message:"Invalid favicon URL format"}),e.analytics.googleAnalyticsId&&(o=e.analytics.googleAnalyticsId,!/^G-[A-Z0-9]{10}$/.test(o))&&t.push({field:"analytics.googleAnalyticsId",message:"Invalid Google Analytics ID format (should be G-XXXXXXXXXX)"}),e.analytics.facebookPixelId&&!function(e){return/^[0-9]{15,16}$/.test(e)}(e.analytics.facebookPixelId)&&t.push({field:"analytics.facebookPixelId",message:"Invalid Facebook Pixel ID format"}),{isValid:0===t.length,errors:t,warnings:n}}(t);return n.isValid?(n.warnings.length>0&&console.warn("Configuration validation warnings:",n.warnings),N(t)):(console.warn("Configuration validation errors:",n.errors),S(A,N(t)))}catch(e){return console.error("Failed to load configuration:",e),A}}function S(e,t){const n={...e};for(const r in t){const o=t[r],i=e[r];void 0!==o&&(L(o)&&L(i)&&!Array.isArray(o)?n[r]=S(i,o):n[r]=o)}return n}function L(e){return e&&"object"==typeof e&&!Array.isArray(e)}function E(e){document.title=e.title;const t=document.querySelector('meta[name="description"]');t&&t.setAttribute("content",e.description);const n=document.querySelector('meta[name="keywords"]');n&&n.setAttribute("content",e.keywords);const r=document.querySelector('meta[property="og:title"]');r&&r.setAttribute("content",e.title);const o=document.querySelector('meta[property="og:description"]');o&&o.setAttribute("content",e.description);const i=document.querySelector('meta[name="twitter:title"]');i&&i.setAttribute("content",e.title);const a=document.querySelector('meta[name="twitter:description"]');if(a&&a.setAttribute("content",e.description),e.favicon){const t=document.querySelector('link[rel="icon"]');t&&t.setAttribute("href",e.favicon)}}function _(e){const t=document.documentElement,n=(e=>{const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null})(e.primaryColor);t.style.setProperty("--primary-color",e.primaryColor),n&&t.style.setProperty("--primary-color-rgb",`${n.r}, ${n.g}, ${n.b}`);t.style.setProperty("--font-family",{inter:"Inter, system-ui, sans-serif",poppins:"Poppins, system-ui, sans-serif",roboto:"Roboto, system-ui, sans-serif",montserrat:"Montserrat, system-ui, sans-serif",playfair:"Playfair Display, serif"}[e.fontFamily]),"image"===e.backgroundStyle&&e.backgroundImage?t.style.setProperty("--background-image",`url(${e.backgroundImage})`):t.style.removeProperty("--background-image")}function P(e){return"auto"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e}function $(e){"dark"===P(e)?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}const C=e.createContext(void 0);function q({children:t}){const[n,r]=e.useState(null),[o,i]=e.useState(!0),[a,s]=e.useState(null);e.useEffect(()=>{let e=!0;return(async()=>{try{i(!0),s(null);const t=await I();e&&(r(t),_(t.theme),$(t.theme.colorScheme),E(t.seo))}catch(t){console.error("Failed to load configuration:",t),e&&s(t instanceof Error?t.message:"Failed to load configuration")}finally{e&&i(!1)}})(),()=>{e=!1}},[]),e.useEffect(()=>{if(!n)return;const e=window.matchMedia("(prefers-color-scheme: dark)"),t=()=>{"auto"===n.theme.colorScheme&&$("auto")};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[n?.theme.colorScheme]);const l=e=>{if(!n)return;const t=M(n,e);r(t),e.theme&&(_(t.theme),$(t.theme.colorScheme)),e.seo&&E(t.seo)},c=e.useMemo(()=>!!n&&"dark"===P(n.theme.colorScheme),[n?.theme.colorScheme]),d=()=>{if(!n)return;l({theme:{colorScheme:c?"light":"dark"}})},u=e.useMemo(()=>{if(n)return{config:n,updateConfig:l,isDarkMode:c,toggleDarkMode:d}},[n,c]);return o?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-gray-900",children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("div",{className:"loading-spinner mx-auto"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading your LinkTree..."})]})}):a||!n?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-gray-900",children:g.jsxs("div",{className:"error-message max-w-md",children:[g.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Configuration Error"}),g.jsx("p",{className:"mb-4",children:a||"Failed to load configuration"}),g.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Retry"})]})}):u?g.jsx(C.Provider,{value:u,children:t}):null}function M(e,t){const n={...e};for(const r in t){const o=t[r],i=e[r];void 0!==o&&(R(o)&&R(i)&&!Array.isArray(o)?n[r]=M(i,o):n[r]=o)}return n}function R(e){return e&&"object"==typeof e&&!Array.isArray(e)}function T({config:t,children:n}){const{isDarkMode:i,toggleDarkMode:a}=function(){const t=e.useContext(C);if(void 0===t)throw new Error("useTheme must be used within a ThemeProvider");return t}(),s=function(e){const t=[];t.push(`spacing-${e.layout.spacing}`),t.push(`align-${e.layout.alignment}`),e.advanced.enableAnimations&&t.push("page-enter");return k(t)}(t),l=function(e){const t=["content-container"];return t.push(`max-w-${e.layout.maxWidth}`),k(t)}(t),c=function(e){const{theme:t}=e;switch(t.backgroundStyle){case"solid":return"bg-solid";case"gradient":default:return"bg-gradient";case"image":return t.backgroundImage?"bg-image":"bg-gradient"}}(t);return g.jsxs("div",{className:k("main-container",c,s),children:[g.jsx("a",{href:"#main-content",className:"skip-link",onClick:e=>{e.preventDefault(),document.getElementById("main-content")?.focus()},children:"Skip to main content"}),t.advanced.enableDarkMode&&g.jsx("button",{onClick:a,className:"theme-toggle no-print","aria-label":i?"Switch to light mode":"Switch to dark mode",title:i?"Switch to light mode":"Switch to dark mode",children:i?g.jsx(r,{className:"w-5 h-5"}):g.jsx(o,{className:"w-5 h-5"})}),g.jsx("div",{className:k("content-wrapper",l),children:g.jsx("main",{id:"main-content",className:"w-full focus:outline-none",tabIndex:-1,role:"main","aria-label":"LinkTree content",children:n})}),g.jsx(D,{config:t})]})}function D({config:e}){const{analytics:t}=e;return n.useEffect(()=>{if(t.googleAnalyticsId&&(e=t.googleAnalyticsId,/^G-[A-Z0-9]{10}$/.test(e))){const e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${t.googleAnalyticsId}`,document.head.appendChild(e),e.onload=()=>{function e(...e){window.dataLayer.push(e)}window.dataLayer=window.dataLayer||[],window.gtag=e,e("js",new Date),e("config",t.googleAnalyticsId,{page_title:document.title,page_location:window.location.href,send_page_view:!0})}}var e;if(t.facebookPixelId&&(e=>/^[0-9]{15,16}$/.test(e))(t.facebookPixelId)){window.fbq=window.fbq||function(){(window.fbq.q=window.fbq.q||[]).push(arguments)},window.fbq.q=window.fbq.q||[],window.fbq.loaded=!0,window.fbq.version="2.0";const e=document.createElement("script");e.async=!0,e.src="https://connect.facebook.net/en_US/fbevents.js",document.head.appendChild(e),e.onload=()=>{window.fbq("init",t.facebookPixelId),window.fbq("track","PageView")}}},[t.googleAnalyticsId,t.facebookPixelId]),null}function F({profile:e,className:t}){return g.jsxs("section",{className:k("profile-section",t),"aria-labelledby":"profile-name",children:[g.jsxs("div",{className:"relative",children:[g.jsx("img",{src:e.avatar,alt:`${e.name}'s profile picture`,className:"profile-avatar",onError:e=>{e.target.src="https://via.placeholder.com/400x400/6366f1/ffffff?text=Profile"},onLoad:e=>{e.target.classList.add("profile-enter")},loading:"eager",width:144,height:144}),g.jsx("div",{className:"absolute inset-0 bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse profile-avatar",style:{zIndex:-1}})]}),g.jsx("h1",{id:"profile-name",className:"profile-name",children:e.name}),e.bio&&g.jsx("p",{className:"profile-bio",children:e.bio}),e.location&&g.jsxs("div",{className:"profile-location",children:[g.jsx(i,{className:"w-4 h-4","aria-hidden":"true"}),g.jsx("span",{children:e.location})]}),g.jsx("script",{type:"application/ld+json",id:"profile-structured-data",ref:t=>{if(t){const n={"@context":"https://schema.org","@type":"Person",name:e.name,description:e.bio,image:e.avatar,...e.location&&{address:e.location}};t.textContent=JSON.stringify(n)}}})]})}const O={},W=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),n=e?.nonce||e?.getAttribute("nonce");r=Promise.allSettled(t.map(e=>{if((e=function(e){return"/"+e}(e))in O)return;O[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":"modulepreload",t||(o.as="script"),o.crossOrigin="",o.href=e,n&&o.setAttribute("nonce",n),document.head.appendChild(o),t?new Promise((t,n)=>{o.addEventListener("load",t),o.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function o(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&o(e.reason);return e().catch(o)})};function U({link:e,theme:t,onLinkClick:r,className:o}){const[i,s]=n.useState(null);n.useEffect(()=>{let t=!0;return(async()=>{try{const n=await(async e=>{try{const n=await W(()=>import("./icons-B-ubV8dj.js"),__vite__mapDeps([0,1]));return n[(t=e,t.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""))]||n.Link}catch{const{Link:e}=await W(async()=>{const{Link:e}=await import("./icons-B-ubV8dj.js");return{Link:e}},__vite__mapDeps([0,1]));return e}var t})(e.icon);t&&s(()=>n)}catch(n){if(console.warn(`Failed to load icon "${e.icon}":`,n),t){const{Link:e}=await W(async()=>{const{Link:e}=await import("./icons-B-ubV8dj.js");return{Link:e}},__vite__mapDeps([0,1]));s(()=>e)}}})(),()=>{t=!1}},[e.icon]);const l=function(e,t){const n=[];n.push(`btn-${e.buttonStyle}`),e.showBorder&&n.push("btn-bordered");"none"!==e.buttonAnimation&&n.push(`btn-${e.buttonAnimation}`);t&&n.push("btn-featured");return k(n)}(t,e.featured),c=!(e.url.startsWith("/")||e.url.startsWith("#")||e.url.startsWith("mailto:")||e.url.startsWith("tel:")),d=c&&e.newTab;return g.jsxs("a",{href:e.url,onClick:t=>{if(r){const t={linkTitle:e.title,linkUrl:e.url,timestamp:Date.now(),featured:e.featured};r(t)}e.url.startsWith("mailto:")||e.url.startsWith("tel:")||!e.newTab||e.url.startsWith("#")||e.url.startsWith("/")||(t.currentTarget.target="_blank",t.currentTarget.rel="noopener noreferrer")},className:k("btn-link link-enter",l,o),target:e.newTab&&c?"_blank":void 0,rel:e.newTab&&c?"noopener noreferrer":void 0,"aria-label":e.description?`${e.title}: ${e.description}`:e.title,children:[g.jsxs("div",{className:"link-content",children:[g.jsx("div",{className:"link-icon","aria-hidden":"true",children:i?g.jsx(i,{className:"w-5 h-5"}):g.jsx("div",{className:"w-5 h-5 bg-gray-300 dark:bg-gray-600 rounded animate-pulse"})}),g.jsxs("div",{className:"link-text",children:[g.jsx("div",{className:"link-title",children:e.title}),e.description&&g.jsx("div",{className:"link-description",children:e.description})]}),d&&g.jsx(a,{className:"link-external","aria-hidden":"true"})]}),e.featured&&g.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 bg-yellow-400 rounded-full","aria-label":"Featured link"})]})}function X(){const[e,t]=n.useState(null),[r,o]=n.useState(!0);return n.useEffect(()=>{I().then(e=>{t(e),o(!1)}).catch(()=>{o(!1)})},[]),r||!e?g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white dark:bg-gray-900",children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("div",{className:"loading-spinner mx-auto"}),g.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading..."})]})}):g.jsx(q,{children:g.jsx(T,{config:e,children:g.jsxs("div",{className:"w-full max-w-md mx-auto space-y-8",children:[g.jsx(F,{profile:e.profile}),g.jsx("div",{className:"links-container space-y-4",children:e.links.map((t,n)=>g.jsx(U,{link:t,theme:e.theme},n))})]})})})}if("undefined"==typeof window)throw new Error("This application requires a browser environment");const Z=document.getElementById("root");if(!Z)throw new Error('Root element not found. Please ensure there is an element with id="root" in your HTML.');y.createRoot(Z).render(g.jsx(n.StrictMode,{children:g.jsx(X,{})}));
